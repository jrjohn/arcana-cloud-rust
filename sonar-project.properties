# SonarQube properties for arcana-cloud-rust
sonar.projectKey=rust-app
sonar.sources=crates
sonar.exclusions=target/**,**/target/**,**/*.proto
sonar.rust.clippy.enabled=false
sonar.rust.lcov.reportPaths=coverage/lcov.info

# Coverage exclusions â€” infrastructure that requires live gRPC/Redis/DB connections
sonar.coverage.exclusions=\
  crates/arcana-grpc/**,\
  crates/arcana-server/**,\
  crates/arcana-repository/src/pool.rs,\
  crates/arcana-jobs/src/redis/**,\
  crates/arcana-plugin-runtime/**,\
  crates/arcana-rest/src/controllers/jobs_controller.rs

# Issue suppression via multicriteria
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# secrets:S6706 - TEST_KEY in tls.rs is a test-only self-signed private key
sonar.issue.ignore.multicriteria.e1.ruleKey=secrets:S6706
sonar.issue.ignore.multicriteria.e1.resourceKey=**/tls.rs

# rust:S3776 - Cognitive complexity inherent to scheduling business logic
sonar.issue.ignore.multicriteria.e2.ruleKey=rust:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/scheduler.rs

# rust:S3776 - Cognitive complexity inherent to job status query logic
sonar.issue.ignore.multicriteria.e3.ruleKey=rust:S3776
sonar.issue.ignore.multicriteria.e3.resourceKey=**/status.rs

# rust:S3776 - Cognitive complexity inherent to validation error conversion
sonar.issue.ignore.multicriteria.e4.ruleKey=rust:S3776
sonar.issue.ignore.multicriteria.e4.resourceKey=**/validated.rs
